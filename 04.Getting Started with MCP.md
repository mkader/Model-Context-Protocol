### Basic MCP Server Structure

* An MCP server typically includes:
    - **Server Configuration**: Setup port, authentication, and other settings
    - **Resources**: Data and context made available to LLMs
    - **Tools**: Functionality that models can invoke
    - **Prompts**: Templates for generating or structuring text

* Here's a simplified example in TypeScript:
    - Defined a tool `add` that takes parameters `a` and `p`, both integers.
    - Created a resource called `greeting` that takes parameter `name`.
[04_0.example.ts](https://github.com/mkader/Model-Context-Protocol/blob/main/04_0.example.ts)

### Create project files
* Open the *package.json* file and replace the content with the following to ensure you can build and run the server:
    ```json
    {
      "name": "calculator-server",
      "version": "1.0.0",
      "main": "index.js",
      "type": "module",
      "scripts": {
        "start": "tsc && node ./build/index.js",
        "build": "tsc && node ./build/index.js"
      },
      "keywords": [],
      "author": "",
      "license": "ISC",
      "description": "A simple calculator server using Model Context Protocol",
      "dependencies": {
        "@modelcontextprotocol/sdk": "^1.16.0",
        "zod": "^3.25.76"
      },
      "devDependencies": {
        "@types/node": "^24.0.14",
        "typescript": "^5.8.3"
      }
    }
    ```
* Create a *tsconfig.json* with the following content:
    ```json
    {
      "compilerOptions": {
        "target": "ES2022",
        "module": "Node16",
        "moduleResolution": "Node16",
        "outDir": "./build",
        "rootDir": "./src",
        "strict": true,
        "esModuleInterop": true,
        "skipLibCheck": true,
        "forceConsistentCasingInFileNames": true
      },
      "include": ["src/**/*"],
      "exclude": ["node_modules"]
    }
    ```

### Testing and Debugging

```sh
# initialize npm project
c:\mcp\js> npm init -y

# install TypeScript globally
c:\mcp\js> npm install typescript -g

# Install the MCP SDK and Zod for schema validation
c:\mcp\js> npm install @modelcontextprotocol/sdk zod
c:\mcp\js> npm install -D @types/node typescript

# Start the server 
c:\mcp\js> npm run build

# Run using the inspector
c:\mcp\js> npx @modelcontextprotocol/inspector node build/index.js
# or add it to your package.json like so: "inspector": "npx @modelcontextprotocol/inspector node build/index.js" and then run npm run inspector
```

<img width="750" height="327" alt="image" src="https://github.com/user-attachments/assets/cfcc6ec1-0e8b-4327-a61f-c38ad50e06f9" />

<img width="600" height="257" alt="image" src="https://github.com/user-attachments/assets/4841aad4-b059-4942-8dcf-efbcb0f01378" />

<img width="500" height="286" alt="image" src="https://github.com/user-attachments/assets/36877a03-90dd-4de1-9aa7-0170bf4323c7" />

<img width="400" height="106" alt="image" src="https://github.com/user-attachments/assets/4a6adae1-7fb1-4b10-be4b-8af166bf0fba" />

<img width="350" height="172" alt="image" src="https://github.com/user-attachments/assets/223046a6-006c-434a-9fc2-2e78e6134b71" />

<img width="300" height="163" alt="image" src="https://github.com/user-attachments/assets/3fbe1d4a-1ec2-4e45-9e7c-f55d3b5df443" />

<img width="300" height="186" alt="image" src="https://github.com/user-attachments/assets/69604809-45f4-4b61-9c73-37d1fc2f3e4a" />

<img width="300" height="400" alt="image" src="https://github.com/user-attachments/assets/d8983eee-b1c0-4902-9038-942a8971ea4a" />

* MCP provides tools to help you test and debug your servers:
    - **Inspector tool**, this graphical interface allows you to connect to your server and test your tools, prompts and resources.
    - **curl**, you can also connect to your server using a command line tool like curl or other clients than can create and run HTTP commands.

* Using [MCP Inspector](https://github.com/modelcontextprotocol/inspector) - is a visual testing tool that helps you:
    1. **Discover Server Capabilities**: Automatically detect available resources, tools, and prompts
    2. **Test Tool Execution**: Try different parameters and see responses in real-time
    3. **View Server Metadata**: Examine server info, schemas, and configurations

   * <a href="https://github.com/mkader/Model-Context-Protocol/blob/main/0.1.Building%20Weather%20MCP%20Server.md#step-4-testing-with-mcp-inspector">Step 4: Testing with MCP Inspector</a>
    
* Local Development and testing - run MCP servers directly on your machine:
    ```bash
    # Example: Running a TypeScript MCP server locally
    npm run start
    # Server running at http://localhost:3000
    ```
